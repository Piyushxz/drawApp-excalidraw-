(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{76970:(e,t,s)=>{Promise.resolve().then(s.bind(s,42663)),Promise.resolve().then(s.bind(s,62556))},42663:(e,t,s)=>{"use strict";s.d(t,{default:()=>y});var r=s(36694),a=s(83286),i=s(96742),l=s(18900),n=s(18415);let o=(0,s(89951).A)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);var c=s(3052),d=s(27115),x=s(24269),h=s(58183);let m=e=>{let{roomName:t,createdAt:s,id:a}=e,i=new Date(s),m=(0,d.useRouter)(),u=async()=>{let e=x.o.loading("Deleting ".concat(t));try{let e=await (0,c.getSession)();await l.A.delete("".concat(h.f,"/rooms"),{data:{id:a},headers:{token:null==e?void 0:e.accessToken}}),x.o.success("Room Deleted Succesfully")}catch(e){x.o.error("Server error")}finally{x.o.dismiss(e)}};return(0,r.jsxs)("div",{className:"w-96 h-40 border border-white/15 rounded-lg shadow-lg flex flex-col justify-between ",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center p-4",children:[(0,r.jsx)("h3",{className:"tracking-tighter text-white text-xl font-semibold",children:t}),(0,r.jsx)(n.A,{onClick:u,className:"text-red-600 hover:text-red-600/70 cursor-pointer",size:24})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center p-4",children:[(0,r.jsxs)("h3",{className:"tracking-tight text-white/50 text-sm ",children:["Created ","".concat(i.getDate(),"-").concat(i.getMonth(),"-").concat(i.getFullYear())]}),(0,r.jsxs)("button",{onClick:()=>m.push("/canvas/".concat(a)),className:"bg-white font-primary text-black flex items-center gap-2 py-2 px-4 rounded-lg hover:opacity-80",children:[(0,r.jsx)(o,{size:20}),(0,r.jsx)("h3",{className:"tracking-tight text-black text-sm",children:"Join Room"})]})]})]})};function u(e){let{isModalOpen:t,setIsModalOpen:s,roomData:a}=e;return(0,r.jsx)("div",{className:"pt-[50px]",children:(0,r.jsx)("section",{className:"w-full flex justify-center ",children:(0,r.jsxs)("div",{className:"w-[95vw]  md:w-[80vw] px-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h3",{className:"font-semibold tracking-tight text-white text-4xl",children:"Rooms,"}),(0,r.jsxs)("button",{onClick:()=>{s(!0)},className:"bg-white font-primary text-black flex items-center gap-2 py-2 px-4 rounded-lg hover:opacity-80",children:[(0,r.jsx)(i.A,{className:"size-4"}),(0,r.jsx)("h3",{className:" tracking-tight text-black  text-sm",children:"Create Room"})]})]}),(0,r.jsx)("div",{className:"flex flex-wrap py-10 gap-4",children:a.map(e=>{let{id:t,slug:s,createdAt:a}=e;return(0,r.jsx)(m,{roomName:s,createdAt:a,id:t},t)})})]})})})}let f=()=>(0,r.jsx)("header",{className:"w-full flex justify-center border-b border-white/15",children:(0,r.jsx)("div",{className:"w-[95vw]  md:w-[80vw]",children:(0,r.jsxs)("div",{className:"flex justify-between items-center   p-2 rounded-lg  ",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("div",{className:"p-1.5 rounded-lg border border-white/15",children:(0,r.jsxs)("svg",{fill:"#65e6bf",className:"size-8",viewBox:"-51.2 -51.2 614.40 614.40",xmlns:"http://www.w3.org/2000/svg",stroke:"#65e6bf",children:[(0,r.jsx)("path",{d:"M188.8,334.07H386.13L279.47,448H83.2Z"}),(0,r.jsx)("path",{d:"M512,199H106.61L0,313H405.39Z"}),(0,r.jsx)("path",{d:"M232.2,64H428.8L322.62,177.93H125.87Z"})]})}),(0,r.jsx)("div",{className:"font-semibold text-3xl text-white tracking-tighter",children:"slapdash"})]}),(0,r.jsx)("div",{className:"flex gap-4 items-center",children:(0,r.jsx)("div",{className:"flex size-10 cursor-pointer items-center justify-center rounded-full bg-gradient-to-b from-[#65e6bf]/40 to-[#65e6bf]/70",children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-user text-white size-4",children:[(0,r.jsx)("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),(0,r.jsx)("circle",{cx:"12",cy:"7",r:"4"})]})})})]})})});var p=s(67748);let g=e=>{let{setIsModalOpen:t}=e,s=(0,a.useRef)(null),i=async()=>{var e;let r=null===(e=s.current)||void 0===e?void 0:e.value;if(!r){x.o.error("Please enter a room name");return}let a=x.o.loading("Creating room");t(!1);try{let e=await (0,c.getSession)(),s=null==e?void 0:e.accessToken;if(console.log(s),!s)throw Error("No token found");await l.A.post("".concat(h.f,"/createroom"),{roomName:r},{headers:{token:s}}),x.o.success("Room created"),t(!1)}catch(e){x.o.error("Could not create room")}finally{x.o.dismiss(a)}};return(0,r.jsx)("div",{onClick:()=>t(!1),className:"fixed inset-0 flex h-screen justify-center bg-black/70 z-50",children:(0,r.jsxs)(p.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{type:"spring",stiffness:200,bounce:.3,mass:.1,duration:.8},onClick:e=>e.stopPropagation(),className:"p-2 rounded-lg w-[90vw] md:w-96 bg-black mt-[80px] h-48 border border-gray-600/70 shadow-xl tracking-tight",children:[(0,r.jsx)("h1",{className:"font-primary text-xl tracking-tighter text-white font-semibold px-4 mt-2",children:"Create Room"}),(0,r.jsx)("h4",{className:"font-primary text-md text-white text-sm opacity-50 font-normal px-4",children:"Please enter a name for your room"}),(0,r.jsx)("input",{ref:s,type:"text",className:"w-[95%] my-2 mx-4 bg-[#191919] py-2.5 focus:outline-none focus:ring-2 focus:ring-[#65e6bf] rounded-md text-white px-3 text-sm",autoComplete:"off"}),(0,r.jsxs)("div",{className:"flex justify-end gap-4 p-2",children:[(0,r.jsx)("button",{onClick:()=>t(!1),className:"flex items-center bg-[#191919] hover:bg-[#191919]/50 border border-white/15 rounded-lg px-4 gap-1 py-2",children:(0,r.jsx)("h1",{className:"text-sm font-primary text-white",children:"Cancel"})}),(0,r.jsx)("button",{onClick:i,className:"flex items-center bg-[#65e6bf] hover:bg-[#65e6bf]/50 rounded-lg px-4 gap-1 py-2",children:(0,r.jsx)("h1",{className:"text-sm font-primary text-white",children:"Create"})})]})]})})};var w=s(71955);let j=()=>{let[e,t]=(0,a.useState)([]);return(0,a.useEffect)(()=>{let e=setInterval(async function(){let e=await (0,c.getSession)(),s=await l.A.get("".concat(h.f,"/rooms"),{headers:{token:null==e?void 0:e.accessToken}});console.log(s),t(s.data.rooms)},5e3);return()=>{clearInterval(e)}},[]),{roomData:e}};function y(){let[e,t]=(0,a.useState)(!1),{roomData:s}=j();return(0,r.jsxs)("div",{children:[(0,r.jsx)(w.N,{children:e&&(0,r.jsx)(g,{setIsModalOpen:t})}),(0,r.jsx)(f,{}),(0,r.jsx)(u,{roomData:s,isModalOpen:e,setIsModalOpen:t})]})}},62556:(e,t,s)=>{"use strict";s.d(t,{Redirect:()=>l});var r=s(36694),a=s(27115),i=s(83286);function l(e){let{to:t}=e,s=(0,a.useRouter)();return(0,i.useEffect)(()=>{s.push(t)},[]),(0,r.jsx)("div",{})}},58183:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a,f:()=>r});let r="https://slapdashbe.piyushxz.online",a="wss://slapdashws.piyushxz.online"},18415:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(89951).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[778,269,589,52,909,659,358],()=>t(76970)),_N_E=e.O()}]);